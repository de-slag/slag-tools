#!/bin/bash

function assert_dir {
  if [ -z $1 ] ; then
    echo "parameter not setted, break"
  fi

  if [ -d $1 ] ; then
    echo "dir '$1' already exists, break"
  fi

  echo "create dir: $1"
  mkdir $1
}

assert_dir /root/logic/minutely
assert_dir /root/logic/at-reboot
assert_dir /root/logic/daily
assert_dir /root/logic/weekly
assert_dir /root/data/logs

echo "now add the following lines to root's crontab"
echo
echo "

echo "when done, hit ENTER to continue."





@reboot    for f in /root/logic/at-reboot/*.sh; do bash "$f" -H ;done >> /root/logs/at-reboot.log 2>&1
* * * * *  for f in /root/logic/minutely/*.sh; do bash "$f" -H ;done >> /root/logs/minutely.log 2>&1
0 5 * * *  for f in /root/logic/daily/*.sh; do bash "$f" -H ;done >> /root/logs/daily.log 2>&1
0 0 * * 1  for f in /root/logic/weekly/*.sh; do bash "$f" -H ;done >> /root/logs/weekly.log 2>&1

